"use strict";(self["webpackChunkquasar_weather"]=self["webpackChunkquasar_weather"]||[]).push([[536],{9536:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});a(7280);var i=a(3673),n=a(2323),l=a(8880);const o={class:"col q-pt-lg q-px-md"},s={class:"col text-white text-center"},h={class:"text-h4 text-weight-light"},r={class:"text-h6 text-weight-light"},c={class:"text-h1 text-weight-thin q-my-lg relative-position"},d=(0,i._)("span",{class:"text-h4 relative-position deg"},"Â°C",-1),u={class:"col text-center"},g=["src"],p={key:1,class:"col column text-center text-white"},w=(0,i._)("div",{class:"col text-h2 text-weight-thin"},[(0,i.Uk)("Quasar"),(0,i._)("br"),(0,i.Uk)("Weather")],-1),m=(0,i._)("div",null,"FInd my location",-1),y=(0,i._)("footer",null,null,-1);function x(t,e,a,x,_,k){const C=(0,i.up)("q-icon"),$=(0,i.up)("q-btn"),q=(0,i.up)("q-input"),v=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(v,{class:(0,n.C_)(["flex column",t.bgClass])},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(q,{"bottom-slots":"",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=e=>t.search=e),onKeyup:(0,l.D2)(t.getWeatherByCity,["enter"]),placeholder:"city, country code ",dark:"",borderless:""},{before:(0,i.w5)((()=>[(0,i.Wm)(C,{name:"my_location",onClick:t.getLocation},null,8,["onClick"])])),append:(0,i.w5)((()=>[(0,i.Wm)($,{round:"",dense:"",flat:"",icon:"search",onClick:t.getWeatherByCity},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),t.weatherData?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",s,[(0,i._)("div",h,(0,n.zw)(t.weatherData.name),1),(0,i._)("div",r,(0,n.zw)(t.weatherData.weather[0].main),1),(0,i._)("div",c,[(0,i.Uk)((0,n.zw)(Math.round(t.weatherData.main.temp))+" ",1),d])]),(0,i._)("div",u,[(0,i._)("img",{src:`http://openweathermap.org/img/wn/${t.weatherData.weather[0].icon}@2x.png`,alt:""},null,8,g)])],64)):((0,i.wg)(),(0,i.iD)("div",p,[w,(0,i.Wm)($,{class:"col",flat:"",onClick:t.getLocation},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{left:"",size:"3em",name:"my_location"}),m])),_:1},8,["onClick"])])),y])),_:1},8,["class"])}const _=(0,i.aZ)({name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,long:null,unit:"metric",key:"8006a2da8b9cda16e5ca41aa433521ce",apiUrl:"https://api.openweathermap.org/data/2.5/weather"}},methods:{getLocation(){navigator.geolocation.getCurrentPosition((t=>{this.lat=t.coords.latitude,this.long=t.coords.longitude,this.getWeatherByCoord()}))},getWeatherByCoord(){this.$q.loading.show(),this.$axios(`${this.apiUrl}?lat=${this.lat}&lon=${this.long}&units=${this.unit}&appid=${this.key}`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()}))},getWeatherByCity(){this.$q.loading.show(),this.$axios(`${this.apiUrl}?q=${this.search}&units=${this.unit}&appid=${this.key}`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()}))}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-Night":"bg-Day"}}});var k=a(4379),C=a(1592),$=a(4554),q=a(7435),v=a(7518),D=a.n(v);_.render=x;const f=_;D()(_,"components",{QPage:k.Z,QInput:C.Z,QIcon:$.Z,QBtn:q.Z})}}]);